<div class="container">
  <div class="page-title">
    <h1>My Dashboard</h1>
    <%= link_to "Create mentor session", new_consultation_path, class: "btn btn-primary" %>
  </div>
</div>

<div class="container">
   <div class="row">
      <div class="col-4 d-flex justify-content-around">
        <a id="home-tab" data-toggle="tab" href="#my-session" role="tab" aria-controls="home" aria-selected="true" class="dashboard-card">
         <div class="card-dashboard mb-3" style="width: 27rem; border-radius: 5px;">
            <div class="card-dashboard-infos d-flex flex-column justify-content-between">
               <h2>My Sessions</h2>
               <p>0</p>
            </div>
         </div>
         </a>
      </div>

      <div class="col-4 d-flex justify-content-around">
        <a id="home-tab" data-toggle="tab" href="#booking-request" role="tab" aria-controls="home" aria-selected="true">
         <div class="card-dashboard mb-3" style="width: 27rem; border-radius: 5px;">
            <div class="card-dashboard-infos d-flex flex-column justify-content-between">
               <h2>Booking request</h2>
               <p>3</p>
            </div>
         </div>
       </a>
      </div>
      <div class="col-4 d-flex justify-content-around ">
        <a id="home-tab" data-toggle="tab" href="#my-session" role="tab" aria-controls="home" aria-selected="true">
         <div class="card-dashboard mb-3" style="width: 27rem; border-radius: 5px;">
            <div class="card-dashboard-infos d-flex flex-column justify-content-between">
               <h2>My bookings</h2>
               <p>12</p>
            </div>
         </div>
      </div>
    </a>
   </div>

</div>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="my-session" role="tabpanel" aria-labelledby="home-tab">YESSSSSS!!!</div>
  <div class="tab-pane fade" id="booking-request" role="tabpanel" aria-labelledby="profile-tab">
    <div class="container d-flex flex-column align-items-center" style="width: 100vw;">
     <% current_user.bookings_as_mentor.each do |booking| %>
     <div class="card-booking col-lg-12">
        <div class="card-booking-infos">
           <div class="mentor-name">
              <h2><%= booking.consultation.user.name %></h2>
              <p style="opacity: .7;"><%= booking.consultation.title %></p>
           </div>
           <div class="card-booking-description d-flex flex-row justify-content-between">
              <p class="consultation-date" style="font-size: 16px;"><strong>Time: </strong><%= booking.date_time %></p>
              <div>
                 <% if booking.pending? %>
                    <%= simple_form_for booking, method: :patch, url: booking_path(booking) do |f| %>
                       <%= f.input :status, as: :hidden, input_html: { value: 'accept'} %>
                       <%= f.submit 'Accept', class: 'btn btn-info' %>

                    <% end %>
                    <%= simple_form_for booking do |f| %>
                       <%= f.input :status, as: :hidden, input_html: { value: 'decline'} %>
                       <%= f.submit 'Decline', class: 'btn btn-info' %>
                    <% end %>
                 <% else %>
                    <p class='booking-tag'><%= booking.status %></p>
                 <% end %>
              </div>
           </div>
        </div>
     </div>
     <% end %>
  </div>

  </div>
  <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
</div>

